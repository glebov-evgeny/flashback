(function(){"use strict";var t={9098:function(t,o,e){var n=e(9242),s=e(3396);const r={class:"main"};function a(t,o,e,n,a,i){const u=(0,s.up)("SHeader"),p=(0,s.up)("router-view"),c=(0,s.up)("SFooter");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(u),(0,s._)("main",r,[(0,s.Wm)(p)]),(0,s.Wm)(c)],64)}const i={class:"header"},u=(0,s._)("div",{class:"container header__container"},[(0,s._)("p",{class:"header__title"},"header")],-1),p=[u];function c(t,o,e,n,r,a){return(0,s.wg)(),(0,s.iD)("header",i,p)}var l={name:"SHeader"},d=e(89);const m=(0,d.Z)(l,[["render",c]]);var f=m;const v={class:"footer"},h=(0,s._)("div",{class:"container footer__container"},[(0,s._)("p",{class:"footer__title"},"footer")],-1),_=[h];function g(t,o,e,n,r,a){return(0,s.wg)(),(0,s.iD)("footer",v,_)}var w={name:"SFooter"};const b=(0,d.Z)(w,[["render",g]]);var y=b,k={components:{SHeader:f,SFooter:y}};const P=(0,d.Z)(k,[["render",a]]);var I=P,O=e(678);const C=t=>((0,s.dD)("data-v-404a62c3"),t=t(),(0,s.Cn)(),t),D={class:"container"},B=C((()=>(0,s._)("h1",{class:"main__title"},"Cтраница с данными",-1))),j=(0,s.Uk)("Добавить");function Z(t,o,e,n,r,a){const i=(0,s.up)("PostList"),u=(0,s.up)("BaseLoader"),p=(0,s.up)("BaseButton"),c=(0,s.up)("PostForm"),l=(0,s.up)("BasePopup");return(0,s.wg)(),(0,s.iD)("div",D,[B,r.loading?((0,s.wg)(),(0,s.j4)(u,{key:1})):((0,s.wg)(),(0,s.j4)(i,{key:0,posts:r.posts,onRemove:a.removePost},null,8,["posts","onRemove"])),r.posts.length>0?((0,s.wg)(),(0,s.j4)(p,{key:2,class:"button main__button",onClick:a.popupOpen},{default:(0,s.w5)((()=>[j])),_:1},8,["onClick"])):(0,s.kq)("",!0),(0,s.Wm)(l,{show:r.popupIsOpen,"onUpdate:show":o[0]||(o[0]=t=>r.popupIsOpen=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{onCreatePost:a.createPost},null,8,["onCreatePost"])])),_:1},8,["show"])])}const W="https://jsonplaceholder.typicode.com/posts";var F=e(6265),V=e.n(F);const $=(0,s._)("h3",{class:"form__title"},"Добавить запись:",-1),M=(0,s.Uk)("Добавить");function S(t,o,e,r,a,i){const u=(0,s.up)("BaseInput"),p=(0,s.up)("BaseButton");return(0,s.wg)(),(0,s.iD)("form",{class:"form",onSubmit:o[2]||(o[2]=(0,n.iM)((()=>{}),["prevent"]))},[$,(0,s.Wm)(u,{class:"form__input",modelValue:a.post.title,"onUpdate:modelValue":o[0]||(o[0]=t=>a.post.title=t),modelModifiers:{trim:!0},placeholder:"Заголовок"},null,8,["modelValue"]),(0,s.Wm)(u,{class:"form__input",modelValue:a.post.body,"onUpdate:modelValue":o[1]||(o[1]=t=>a.post.body=t),modelModifiers:{trim:!0},placeholder:"Описание"},null,8,["modelValue"]),(0,s.Wm)(p,{class:"button form__button",type:"submit",onClick:i.createPost},{default:(0,s.w5)((()=>[M])),_:1},8,["onClick"])],32)}var U={name:"PostForm",props:{},data(){return{post:{title:"",body:""}}},methods:{createPost(){""!==this.post.title&&""!==this.post.description&&(this.post.id=Date.now(),this.$emit("createPost",this.post),this.post={title:"",body:""})}},computed:{}};const x=(0,d.Z)(U,[["render",S]]);var H=x;const L={key:0},q={key:1,class:"main__title"};function R(t,o,e,n,r,a){const i=(0,s.up)("PostItem");return e.posts.length>0?((0,s.wg)(),(0,s.iD)("div",L,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.posts,(o=>((0,s.wg)(),(0,s.j4)(i,{key:o.id,post:o,onRemove:e=>t.$emit("remove",o)},null,8,["post","onRemove"])))),128))])):((0,s.wg)(),(0,s.iD)("h2",q,"Упс... всё закончилось."))}var T=e(7139);const z={class:"post"},E={class:"post__block"},N={class:"post__text"},Y=(0,s._)("strong",null,"Название:",-1),A={class:"post__text"},K=(0,s._)("strong",null,"Описание:",-1),G={class:"post__btns"},J=(0,s.Uk)("Удалить");function Q(t,o,e,n,r,a){const i=(0,s.up)("BaseButton");return(0,s.wg)(),(0,s.iD)("div",z,[(0,s._)("div",E,[(0,s._)("p",N,[Y,(0,s.Uk)(" "+(0,T.zw)(e.post.title),1)]),(0,s._)("p",A,[K,(0,s.Uk)(" "+(0,T.zw)(e.post.body),1)])]),(0,s._)("div",G,[(0,s.Wm)(i,{onClick:o[0]||(o[0]=o=>t.$emit("remove",e.post))},{default:(0,s.w5)((()=>[J])),_:1})])])}var X={name:"PostItem",components:{},props:{post:{type:Object,required:!0}},computed:{}};const tt=(0,d.Z)(X,[["render",Q]]);var ot=tt,et={name:"PostList",components:{PostItem:ot},props:{posts:{type:Array,required:!0}},computed:{}};const nt=(0,d.Z)(et,[["render",R]]);var st=nt,rt={name:"PostPage",components:{PostForm:H,PostList:st},data(){return{posts:[],popupIsOpen:!1,loading:!0}},methods:{createPost(t){this.posts.push(t),this.popupIsOpen=!1},removePost(t){this.posts=this.posts.filter((o=>o.id!==t.id))},popupOpen(){this.popupIsOpen=!0},async fetchPosts(){try{this.loading=!0;const t=await V().get(`${W}?_limit=5`);this.posts=t.data,this.loading=!1}catch(t){alert(`Ошибка: ${t}`)}finally{this.loading=!1}}},mounted(){this.fetchPosts()}};const at=(0,d.Z)(rt,[["render",Z],["__scopeId","data-v-404a62c3"]]);var it=at;const ut={class:"container"},pt=(0,s._)("h1",{class:"main__title"},"Страница не найдена",-1),ct=[pt];function lt(t,o,e,n,r,a){return(0,s.wg)(),(0,s.iD)("div",ut,ct)}var dt={name:"NotFoundPage"};const mt=(0,d.Z)(dt,[["render",lt]]);var ft=mt;const vt=[{path:"/",name:"posts",component:it},{path:"/:pathMatch(.*)*",name:"notFound",component:ft}],ht=(0,O.p7)({history:(0,O.PO)("/flashback/"),routes:vt});var _t=ht,gt=e(65),wt=(0,gt.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});const bt=["value"];function yt(t,o,e,n,r,a){return(0,s.wg)(),(0,s.iD)("input",{value:e.modelValue,onInput:o[0]||(o[0]=(...t)=>a.updateInput&&a.updateInput(...t)),type:"text"},null,40,bt)}var kt={name:"BaseInput",props:{modelValue:[String,Number]},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}};const Pt=(0,d.Z)(kt,[["render",yt]]);var It=Pt;const Ot={class:"button"};function Ct(t,o,e,n,r,a){return(0,s.wg)(),(0,s.iD)("button",Ot,[(0,s.WI)(t.$slots,"default",{},void 0,!0)])}var Dt={name:"BaseButton"};const Bt=(0,d.Z)(Dt,[["render",Ct],["__scopeId","data-v-2d6cab0e"]]);var jt=Bt;function Zt(t,o,e,r,a,i){return e.show?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"modal",onClick:o[1]||(o[1]=(0,n.iM)(((...t)=>i.popupClose&&i.popupClose(...t)),["stop"]))},[(0,s._)("div",{onClick:o[0]||(o[0]=(0,n.iM)((()=>{}),["stop"])),class:"modal__content"},[(0,s.WI)(t.$slots,"default",{},void 0,!0)])])):(0,s.kq)("",!0)}var Wt={name:"BasePopup",props:{show:{type:Boolean,default:!1}},methods:{popupClose(){this.$emit("update:show",!1)}}};const Ft=(0,d.Z)(Wt,[["render",Zt],["__scopeId","data-v-1a2130f2"]]);var Vt=Ft;const $t=t=>((0,s.dD)("data-v-309a332e"),t=t(),(0,s.Cn)(),t),Mt={class:"loader"},St=$t((()=>(0,s._)("span",null,null,-1))),Ut=$t((()=>(0,s._)("span",null,null,-1))),xt=$t((()=>(0,s._)("span",null,null,-1))),Ht=[St,Ut,xt];function Lt(t,o,e,n,r,a){return(0,s.wg)(),(0,s.iD)("div",Mt,Ht)}var qt={name:"BaseLoader"};const Rt=(0,d.Z)(qt,[["render",Lt],["__scopeId","data-v-309a332e"]]);var Tt=Rt,zt=[It,jt,Vt,Tt];const Et=(0,n.ri)(I);zt.forEach((t=>{Et.component(t.name,t)})),Et.use(wt).use(_t).mount("#app")}},o={};function e(n){var s=o[n];if(void 0!==s)return s.exports;var r=o[n]={exports:{}};return t[n](r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(o,n,s,r){if(!n){var a=1/0;for(c=0;c<t.length;c++){n=t[c][0],s=t[c][1],r=t[c][2];for(var i=!0,u=0;u<n.length;u++)(!1&r||a>=r)&&Object.keys(e.O).every((function(t){return e.O[t](n[u])}))?n.splice(u--,1):(i=!1,r<a&&(a=r));if(i){t.splice(c--,1);var p=s();void 0!==p&&(o=p)}}return o}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,s,r]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,n){var s,r,a=n[0],i=n[1],u=n[2],p=0;if(a.some((function(o){return 0!==t[o]}))){for(s in i)e.o(i,s)&&(e.m[s]=i[s]);if(u)var c=u(e)}for(o&&o(n);p<a.length;p++)r=a[p],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(c)},n=self["webpackChunkflashback"]=self["webpackChunkflashback"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(9098)}));n=e.O(n)})();
//# sourceMappingURL=app.345d8c86.js.map